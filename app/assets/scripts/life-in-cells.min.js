/*! life-in-cells 
 *  Simple Life Simulation of Conway's Game 
 *  @author Bilal Cinarli <bcinarli@gmail.com> 
 *  @version 0.1.0 
 *  @build Thu Jan 26 2017 19:35:36 GMT+0300 (+03) 
 */
!function(){"use strict";var n=function(){var t=[],e=function(n){t.push(n)},i=function(){r()},r=function(){t.length>0&&t.forEach(function(t){"undefined"==typeof n[t]||n[t].isInitialized()||n[t].init()})},o=function(n){"loading"!==document.readyState?n():document.addEventListener("DOMContentLoaded",n)};return{init:i,registerInit:e,ready:o}}();window.life=n}(),function(n){"use strict";var t=function(n){this.alive=n.alive===!0,this.coordinates=n.coordinates,this.neighbours=[]};t.prototype.findNeighbours=function(){for(var n=[],t=this.coordinates[0],e=this.coordinates[1],i=t-1;i<=t+1;i++)for(var r=e-1;r<=e+1;r++)n.push([i,r]);n.splice(4,1),this.neighbours=n},t.prototype.willDie=function(n){var t=this.aliveNeighbours(n);return t<2||t>3},t.prototype.willBorn=function(n){var t=this.aliveNeighbours(n);return 3===t},t.prototype.aliveNeighbours=function(n){var t=0;return 0===this.neighbours.length&&this.findNeighbours(),this.neighbours.map(function(e){"undefined"!=typeof n[e[0]]&&"undefined"!=typeof n[e[0]][e[1]]&&n[e[0]][e[1]].isAlive()&&t++}),t},t.prototype.die=function(){this.alive=!1},t.prototype.born=function(){this.alive=!0},t.prototype.isAlive=function(){return this.alive},n.cell=t}(life),function(n){"use strict";n.events=function(){var t,e,i,r,o,a=!1,l={},s=!1;l.init=function(){a=!0,t=document.getElementById("life-app-actions"),e=t.querySelector(".next-generation"),i=t.querySelector(".run-generations"),r=t.querySelector(".random-habitat"),c()},l.isInitialized=function(){return a};var c=function(){e.addEventListener("click",u),i.addEventListener("click",f),r.addEventListener("click",d)},u=function(){n.generations.nextGeneration(),n.habitat.nextGeneration()},f=function(){s?(clearInterval(o),s=!1):(s=!0,o=setInterval(u,500))},d=function(){s&&(clearInterval(o),s=!1),n.World=new n.world(n.World.size,(!0)),n.habitat.nextGeneration()};return l}(),n.registerInit("events")}(life),function(n){"use strict";n.generations=function(){var t={};t.nextGeneration=function(){var t,i=e(n.World.cells);t=n.World.cells.map(function(n){return n.map(function(n){return n.willDie(i)&&n.die(),n.willBorn(i)&&n.born(),n})}),n.World.cells=t};var e=function(t){return t.map(function(t){return t.map(function(t){return new n.cell({coordinates:t.coordinates,alive:t.alive})})})};return t}()}(life),function(n){"use strict";n.habitat=function(){var t={},e=!1,i={},r=[];t.init=function(){e=!0,i.app=document.getElementById("life-app"),i.world=document.getElementById("life-app-world"),t.nextGeneration()},t.nextGeneration=function(){a(),o()};var o=function(){r=[],n.World.cells.map(function(n){n.map(function(n){var t=document.createElement("span");t.classList.add("single-cell"),n.alive&&t.classList.add("is-alive"),t.cellData=n,r.push(t)})}),r.forEach(function(n){i.world.appendChild(n)})},a=function(){i.world.innerHTML=""};return t.isInitialized=function(){return e},t}(),n.registerInit("habitat")}(life),function(n){"use strict";var t=function(n,t){this.size=n,this.random=t===!0,this.cells=[],this.init()};t.prototype.init=function(){this.getCells()},t.prototype.getCells=function(){for(var t=0;t<this.size;t++){this.cells[t]=[];for(var e=0;e<this.size;e++){var i=!1;this.random&&(i=Math.random()>=.8),this.cells[t][e]=new n.cell({coordinates:[t,e],alive:i})}}},n.world=t}(life);